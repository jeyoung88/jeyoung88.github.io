<!DOCTYPE html><html lang="en" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="prefer-datetime-locale" content="en.js"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Scalability" /><meta property="og:locale" content="en" /><meta name="description" content="How Node application scale Node is a hybrid when it comes to concurrency. At the programmer level it is a single threaded model utilizing system event loops and non-blocking IO to handle larger number of requests. When a request comes in, the event is put into the system event queue. Then the request will be put to sleep. Meanwhile the main thread can take other request or process the event waiting to be process. When a particular request’s work is done, the sleeping request will be woken up by the main thread. However, Node also use libuv library which has a multi-thread pool. Certain computation Node can decide to use this library to take advantage of the multi-threading capability, but programmers have no control. Most database drivers that are written in lower level language can also be multi-threaded. Newer version of Node also start to support the Worker threads model. — Best Practice for Node scalability Node application is very light way compare to other runtime systems. It is a conventional practice now to package and deploy Node’s application in docker. In turns we can deploy a massive number of these docker wrapped application in the Cloud such as using Kubernetes . PDF Generator is even more well suited for this type of deployment because it is stateless. The context of the application is captured in each HTTP request memory space. Thus, it can support thousands or tens of thousands of concurrent call when adequate number of docker images are deployed." /><meta property="og:description" content="How Node application scale Node is a hybrid when it comes to concurrency. At the programmer level it is a single threaded model utilizing system event loops and non-blocking IO to handle larger number of requests. When a request comes in, the event is put into the system event queue. Then the request will be put to sleep. Meanwhile the main thread can take other request or process the event waiting to be process. When a particular request’s work is done, the sleeping request will be woken up by the main thread. However, Node also use libuv library which has a multi-thread pool. Certain computation Node can decide to use this library to take advantage of the multi-threading capability, but programmers have no control. Most database drivers that are written in lower level language can also be multi-threaded. Newer version of Node also start to support the Worker threads model. — Best Practice for Node scalability Node application is very light way compare to other runtime systems. It is a conventional practice now to package and deploy Node’s application in docker. In turns we can deploy a massive number of these docker wrapped application in the Cloud such as using Kubernetes . PDF Generator is even more well suited for this type of deployment because it is stateless. The context of the application is captured in each HTTP request memory space. Thus, it can support thousands or tens of thousands of concurrent call when adequate number of docker images are deployed." /><link rel="canonical" href="/posts/scale/" /><meta property="og:url" content="/posts/scale/" /><meta property="og:site_name" content="Justin’s" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-07-07T00:00:00-07:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Scalability" /><meta name="twitter:site" content="@twitter_username" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-07-21T01:31:59-07:00","datePublished":"2022-07-07T00:00:00-07:00","description":"How Node application scale Node is a hybrid when it comes to concurrency. At the programmer level it is a single threaded model utilizing system event loops and non-blocking IO to handle larger number of requests. When a request comes in, the event is put into the system event queue. Then the request will be put to sleep. Meanwhile the main thread can take other request or process the event waiting to be process. When a particular request’s work is done, the sleeping request will be woken up by the main thread. However, Node also use libuv library which has a multi-thread pool. Certain computation Node can decide to use this library to take advantage of the multi-threading capability, but programmers have no control. Most database drivers that are written in lower level language can also be multi-threaded. Newer version of Node also start to support the Worker threads model. — Best Practice for Node scalability Node application is very light way compare to other runtime systems. It is a conventional practice now to package and deploy Node’s application in docker. In turns we can deploy a massive number of these docker wrapped application in the Cloud such as using Kubernetes . PDF Generator is even more well suited for this type of deployment because it is stateless. The context of the application is captured in each HTTP request memory space. Thus, it can support thousands or tens of thousands of concurrent call when adequate number of docker images are deployed.","headline":"Scalability","mainEntityOfPage":{"@type":"WebPage","@id":"/posts/scale/"},"url":"/posts/scale/"}</script><title>Scalability | Justin's</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Justin's"><meta name="application-name" content="Justin's"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/images/avatar.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Justin's</a></div><div class="site-subtitle font-italic">A modern PDF service</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/jeyoung88" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['jeyoung88','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Scalability</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>Scalability</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1657177200" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jul 7, 2022 </em> </span> <span> Updated <em class="" data-ts="1658392319" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jul 21, 2022 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://github.com/jeyoung88">Justin Young</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="251 words"> <em>1 min</em> read</span></div></div></div><div class="post-content"><hr /><h2 id="how-node-application-scale"><span class="mr-2">How Node application scale</span><a href="#how-node-application-scale" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>Node is a hybrid when it comes to concurrency. At the programmer level it is a single threaded model utilizing system event loops and non-blocking IO to handle larger number of requests. When a request comes in, the event is put into the system event queue. Then the request will be put to sleep. Meanwhile the main thread can take other request or process the event waiting to be process. When a particular request’s work is done, the sleeping request will be woken up by the main thread.<li>However, Node also use libuv library which has a multi-thread pool. Certain computation Node can decide to use this library to take advantage of the multi-threading capability, but programmers have no control.<li>Most database drivers that are written in lower level language can also be multi-threaded.<li>Newer version of Node also start to support the Worker threads model. <img data-src="/assets/images/event-loop.png" alt="image" data-proofer-ignore> —<h2 id="best-practice-for-node-scalability"><span class="mr-2">Best Practice for Node scalability</span><a href="#best-practice-for-node-scalability" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Node application is very light way compare to other runtime systems. It is a conventional practice now to package and deploy Node’s application in docker. In turns we can deploy a massive number of these docker wrapped application in the Cloud such as using Kubernetes . PDF Generator is even more well suited for this type of deployment because it is stateless. The context of the application is captured in <u>each HTTP request memory space</u>. Thus, it can support thousands or tens of thousands of concurrent call when adequate number of docker images are deployed.</p></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/pdf-service/'>pdf-service</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/node/" class="post-tag no-text-decoration" >node</a> <a href="/tags/thread/" class="post-tag no-text-decoration" >thread</a> <a href="/tags/scale/" class="post-tag no-text-decoration" >scale</a> <a href="/tags/docker/" class="post-tag no-text-decoration" >docker</a> <a href="/tags/deployment/" class="post-tag no-text-decoration" >deployment</a> <a href="/tags/kubernetes/" class="post-tag no-text-decoration" >kubernetes</a> <a href="/tags/worker-thread/" class="post-tag no-text-decoration" >worker-thread</a> <a href="/tags/libuv/" class="post-tag no-text-decoration" >libuv</a> <a href="/tags/database-driver/" class="post-tag no-text-decoration" >database-driver</a> <a href="/tags/event-loop/" class="post-tag no-text-decoration" >event-loop</a> <a href="/tags/non-block/" class="post-tag no-text-decoration" >non-block</a> <a href="/tags/async/" class="post-tag no-text-decoration" >async</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Scalability+-+Justin%27s&url=%2Fposts%2Fscale%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Scalability+-+Justin%27s&u=%2Fposts%2Fscale%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=%2Fposts%2Fscale%2F&text=Scalability+-+Justin%27s" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/step-1-2/">JWT/Header Guard, Interceptor</a><li><a href="/posts/step-6-9/">Controller, Browser Page Pool, Puppeteer , Exception Filter</a><li><a href="/posts/architecture/">Architecture of PDF generator</a><li><a href="/posts/step-3-5/">Swagger, Body Validator, Handlebar Compilation</a><li><a href="/posts/i18n/">Localization, PDF-Footer</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/handlebars/">handlebars</a> <a class="post-tag" href="/tags/node/">node</a> <a class="post-tag" href="/tags/puppeteer/">puppeteer</a> <a class="post-tag" href="/tags/architecture/">architecture</a> <a class="post-tag" href="/tags/async/">async</a> <a class="post-tag" href="/tags/body-validator/">body-validator</a> <a class="post-tag" href="/tags/browser-page-pool/">browser-page-pool</a> <a class="post-tag" href="/tags/database-driver/">database-driver</a> <a class="post-tag" href="/tags/deployment/">deployment</a> <a class="post-tag" href="/tags/docker/">docker</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/intro/"><div class="card-body"> <em class="small" data-ts="1656658800" data-df="ll" > Jul 1, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Introduction PDF Service</h3><div class="text-muted small"><p> Welcome to my advanced Node journey Many asked me what is the big deal of a modern PDF generator service; they exist for a long time and is a commodity. Many companies use lower level native PDF l...</p></div></div></a></div><div class="card"> <a href="/posts/architecture/"><div class="card-body"> <em class="small" data-ts="1656745200" data-df="ll" > Jul 2, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Architecture of PDF generator</h3><div class="text-muted small"><p> Diagram Node vs Nest vs Micro-Service (#10) Nest.js is a wonderful backend library layered on top of Node. Nest.js is modeled after Angular’s constructs and use of decorators but applied at th...</p></div></div></a></div><div class="card"> <a href="/posts/step-1-2/"><div class="card-body"> <em class="small" data-ts="1656831600" data-df="ll" > Jul 3, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>JWT/Header Guard, Interceptor</h3><div class="text-muted small"><p> Step 1a JWT Guard Guard is the first step in the pipeline of the HTTP POST that will be activated . It can be applied at the Controller level such as @UseGuards(JwtAuthGuard) and @UseGuards(HeaderG...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/i18n/" class="btn btn-outline-primary" prompt="Older"><p>Localization, PDF-Footer</p></a> <a href="/posts/testing/" class="btn btn-outline-primary" prompt="Newer"><p>Testing & Results</p></a></div></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://github.com/jeyoung88">Justin Young</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are copyrighted by the author.">All rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Dream Big</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/handlebars/">handlebars</a> <a class="post-tag" href="/tags/node/">node</a> <a class="post-tag" href="/tags/puppeteer/">puppeteer</a> <a class="post-tag" href="/tags/architecture/">architecture</a> <a class="post-tag" href="/tags/async/">async</a> <a class="post-tag" href="/tags/body-validator/">body-validator</a> <a class="post-tag" href="/tags/browser-page-pool/">browser-page-pool</a> <a class="post-tag" href="/tags/database-driver/">database-driver</a> <a class="post-tag" href="/tags/deployment/">deployment</a> <a class="post-tag" href="/tags/docker/">docker</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.js.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
